<div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0">
  <div class="rounded-t bg-white mb-0 px-6 py-6">
    <div class="text-center flex justify-between">
      <h6 class="text-blueGray-700 text-xl font-bold">My Profile</h6>
      <div class="flex">
        <a
          [routerLink]="['/profile']"
          class="bg-blueGray-500 text-white active:bg-blueGray-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-2 ease-linear transition-all duration-150"
        >
          Back to Profile
        </a>
        <button
          class="bg-red-600 text-white active:bg-red-700 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
          type="button"
          (click)="updateProfile()"
        >
          Save Changes
        </button>
      </div>
    </div>
  </div>

  <!-- Success and Error Messages -->
  <div *ngIf="updateSuccess" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mx-6 mt-4">
    <strong class="font-bold">Success!</strong>
    <span class="block sm:inline"> Your profile has been updated successfully.</span>
  </div>

  <div *ngIf="updateError" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mx-6 mt-4">
    <strong class="font-bold">Error!</strong>
    <span class="block sm:inline"> {{ errorMessage }}</span>
  </div>

  <div class="flex-auto px-4 lg:px-10 py-10 pt-0">
    <!-- Profile Image Section -->
    <h6 class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
      Profile Image
    </h6>
    <div class="w-full px-4 mb-6 flex justify-center">
      <div class="flex flex-col items-center">
        <!-- Profile Image -->
        <img
          [src]="imagePreview || 'assets/img/team-2-800x800.jpg'"
          alt="Profile Image"
          class="rounded-full h-24 w-24 object-cover shadow-xl mb-4"
        />

        <!-- Upload Label -->
        <label
          for="fileUpload"
          class="text-sm text-red-600 hover:underline cursor-pointer"
        >
          Change Photo
        </label>
        <input
          type="file"
          id="fileUpload"
          accept="image/*"
          (change)="onFileSelected($event)"
          class="hidden"
        />
      </div>
    </div>

    <hr class="mt-6 border-b-1 border-blueGray-300" />

    <!-- Personal Information -->
    <h6 class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
      Personal Information
    </h6>
    <div class="flex flex-wrap">
      <!-- First Name -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            First Name
          </label>
          <input
            type="text"
            [(ngModel)]="prenom"
            name="prenom"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
            placeholder="First Name"
          />
        </div>
      </div>

      <!-- Last Name -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Last Name
          </label>
          <input
            type="text"
            [(ngModel)]="nom"
            name="nom"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
            placeholder="Last Name"
          />
        </div>
      </div>

      <!-- Gender -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Gender
          </label>
          <select
            [(ngModel)]="gender"
            name="gender"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
          >
            <option value="">Select Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
        </div>
      </div>

      <!-- Age -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Age
          </label>
          <input
            type="number"
            [(ngModel)]="age"
            name="age"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
            placeholder="Age"
          />
        </div>
      </div>

      <!-- Country -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Country
          </label>
          <select
            [(ngModel)]="country"
            name="country"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
          >
            <option value="">Select Country</option>
            <option value="USA">USA</option>
            <option value="Canada">Canada</option>
            <option value="UK">UK</option>
            <option value="Germany">Germany</option>
            <option value="France">France</option>
          </select>
        </div>
      </div>
    </div>

    <hr class="mt-6 border-b-1 border-blueGray-300" />

    <!-- Account Information -->
    <h6 class="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
      Account Information
    </h6>
    <div class="flex flex-wrap">
      <!-- Email -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Email Address
          </label>
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
            placeholder="Email Address"
            disabled
          />
          <p class="text-xs text-blueGray-400 mt-1">Email cannot be changed</p>
        </div>
      </div>

      <!-- Password -->
      <div class="w-full lg:w-6/12 px-4">
        <div class="relative w-full mb-3">
          <label class="block uppercase text-blueGray-600 text-xs font-bold mb-2">
            Password
          </label>
          <input
            type="password"
            [(ngModel)]="password"
            name="password"
            class="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-blueGray-100 rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
            placeholder="Leave blank to keep current password"
          />
          <p class="text-xs text-blueGray-400 mt-1">Only fill this if you want to change your password</p>
        </div>
      </div>
    </div>
  </div>
</div>
